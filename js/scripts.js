"use strict";var burgerbtn=document.querySelector(".header__burder-menu-span"),closebtn=document.querySelector(".burder-close-icon"),burgertoggle=document.querySelector(".bd-modal-burger"),headermenu=document.querySelector(".header__top-menu"),btnlink=document.querySelector(".header__link--burger"),nav=document.querySelector(".nav"),display=document.querySelector(".display"),header__link=document.querySelector(".header__link"),registration__form=document.querySelector(".registration__form-btn");burgerbtn.onclick=function(){burgertoggle.style.display="block",headermenu.style.visibility="hidden"},closebtn.onclick=function(){burgertoggle.style.display="none",headermenu.style.visibility="visible",location.reload()},btnlink.onclick=function(){nav.style.display="none",btnlink.style.display="none",display.style.display="block"},header__link.onclick=function(){burgertoggle.style.display="block",headermenu.style.visibility="hidden",nav.style.display="none",display.style.display="block",btnlink.style.display="none"};var form=document.querySelector(".form");function ajaxPost(e){var t=new XMLHttpRequest;t.onreadystatechange=function(){4===t.readyState&&200===t.status&&(1==t.responseText?(document.querySelector("#result").innerHTML="Спасибо, мы вам перезвоним вам в течение 10 минут",document.querySelector("#result").style.color="green",document.querySelector("#result").style.fontSize="30px",registration__form.style.display="none",form.style.display="none"):(document.querySelector("#result").innerHTML="Заказ не прошел, повторите пожалуйста действия",document.querySelector("#result").style.color="red",document.querySelector("#result").style.fontSize="20px"))},t.open("POST","info.php"),t.send(e)}registration__form.onclick=function(){var e=new FormData(form);""===document.querySelector(".registration__form-input--name").value?alert("Введите свое имя"):""===document.querySelector(".registration__form-input--tell").value?alert("Введите свой телефон"):ajaxPost(e)};var multiItemSlider=function(e,t){var a,s=document.querySelector(e),u=s.querySelector(".slider__wrapper"),l=s.querySelectorAll(".slider__item"),d=(s.querySelectorAll(".slider__control"),s.querySelector(".slider__control_left"),s.querySelector(".slider__control_right"),parseFloat(getComputedStyle(u).width)),m=parseFloat(getComputedStyle(l[0]).width),n=s.innerHTML,y=0,f=l.length-1,g=0,p=0,v=m/d*100,h=[],c=0,_=[{active:!1,minWidth:0,count:1},{active:!1,minWidth:576,count:2},{active:!1,minWidth:992,count:3},{active:!1,minWidth:1200,count:4}],r={isCycling:!1,direction:"right",interval:5e3,pause:!0};for(var i in t)i in r&&(r[i]=t[i]);l.forEach(function(e,t){h.push({item:e,position:t,transform:0})});var S=function(){var r=0,i=parseFloat(document.body.clientWidth);_.forEach(function(e,t,n){_[t].active=!1,i>=_[t].minWidth&&(r=t)}),_[r].active=!0},b={getItemMin:function(){var n=0;return h.forEach(function(e,t){e.position<h[n].position&&(n=t)}),n},getItemMax:function(){var n=0;return h.forEach(function(e,t){e.position>h[n].position&&(n=t)}),n},getMin:function(){return h[b.getItemMin()].position},getMax:function(){return h[b.getItemMax()].position}},o=function(e){var t,n,r,i,o,l,c=y;r=(n=s).getBoundingClientRect(),i=window.innerWidth||doc.documentElement.clientWidth,o=window.innerHeight||doc.documentElement.clientHeight,l=function(e,t){return document.elementFromPoint(e,t)},r.right<0||r.bottom<0||r.left>i||r.top>o||!(n.contains(l(r.left,r.top))||n.contains(l(r.right,r.top))||n.contains(l(r.right,r.bottom))||n.contains(l(r.left,r.bottom)))||("right"===e&&(++g+d/m-1>b.getMax()&&(t=b.getItemMin(),h[t].position=b.getMax()+1,h[t].transform+=100*h.length,h[t].item.style.transform="translateX("+h[t].transform+"%)"),p-=v,f<(y+=1)&&(y=0)),"left"===e&&(--g<b.getMin()&&(t=b.getItemMax(),h[t].position=b.getMin()-1,h[t].transform-=100*h.length,h[t].item.style.transform="translateX("+h[t].transform+"%)"),p+=v,(y-=1)<0&&(y=f)),u.style.transform="translateX("+p+"%)",a[c].classList.remove("active"),a[y].classList.add("active"))},q=function(e){r.isCycling&&(c=setInterval(function(){o(e)},r.interval))},I=function(e){if(e.target.classList.contains("slider__control")){e.preventDefault();var t=e.target.classList.contains("slider__control_right")?"right":"left";o(t),clearInterval(c),q(r.direction)}e.target.getAttribute("data-slide-to")&&(e.preventDefault(),function(e){for(var t=0,n=y<e?"right":"left";e!==y&&t<=f;)o(n),t++}(parseInt(e.target.getAttribute("data-slide-to"))),clearInterval(c),q(r.direction))},k=function(){"hidden"===document.visibilityState?clearInterval(c):(clearInterval(c),q(r.direction))},M=function(){var e=document.createElement("ol");e.classList.add("slider__indicators");for(var t=0;t<l.length;t++){var n=document.createElement("li");0===t&&n.classList.add("active"),n.setAttribute("data-slide-to",t),e.appendChild(n)}s.appendChild(e),a=s.querySelectorAll(".slider__indicators > li")};return M(),s.addEventListener("click",I),r.pause&&r.isCycling&&(s.addEventListener("mouseenter",function(){clearInterval(c)}),s.addEventListener("mouseleave",function(){clearInterval(c),q(r.direction)})),document.addEventListener("visibilitychange",k,!1),window.addEventListener("resize",function(){var r,i=0,o=parseFloat(document.body.clientWidth);_.forEach(function(e,t,n){o>=_[t].minWidth&&(i=t)}),i!==(_.forEach(function(e,t,n){_[t].active&&(r=t)}),r)&&(S(),clearInterval(c),s.innerHTML=n,u=s.querySelector(".slider__wrapper"),l=s.querySelectorAll(".slider__item"),s.querySelectorAll(".slider__control"),s.querySelector(".slider__control_left"),s.querySelector(".slider__control_right"),d=parseFloat(getComputedStyle(u).width),m=parseFloat(getComputedStyle(l[0]).width),y=p=g=0,f=l.length-1,v=m/d*100,h=[],l.forEach(function(e,t){h.push({item:e,position:t,transform:0})}),M())}),"visible"===document.visibilityState&&q(r.direction),S(),{right:function(){o("right")},left:function(){o("left")},stop:function(){r.isCycling=!1,clearInterval(c)},cycle:function(){r.isCycling=!0,clearInterval(c),q()}}},slider=multiItemSlider(".slider",{isCycling:!0});